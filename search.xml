<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Tesla</title>
    <url>/posts/a2033a4b/</url>
    <content><![CDATA[<p>ä»Šå¤©æ˜¯2024å¹´7æœˆ7æ—¥ï¼Œæœ€è¿‘çœ‹äº†å¾ˆå¤šç‰¹æ–¯æ‹‰çš„æ–°é—»å’ŒçŸ¥è¯†<span id="more"></span>ï¼Œæ„ˆå‘è§‰å¾—è¿™åªæˆ‘æ›¾ç»å—¤ä¹‹ä»¥é¼»çš„è‚¡ç¥¨ï¼ˆä¸»è¦æ˜¯ä¸å–œæ¬¢é©¬æ–¯å…‹è¿™ä¸ªäººï¼‰å…¶å®æ˜¯æœ€å¥½çš„æŠ•èµ„é€‰æ‹©ä¹‹ä¸€ã€‚<br>ç›®å‰ä¸ºæ­¢åªæœ‰100è‚¡ç‰¹æ–¯æ‹‰ï¼Œå‡ä»·240ã€‚çœ‹çœ‹åœ¨ä¸€æ®µæ—¶é—´çš„çŸ­æœŸã€é•¿æœŸçš„æ“ä½œä¸‹ï¼Œä¼šæœ‰æ€æ ·çš„å˜åŒ–ã€‚<br>æœŸå¾…ã€‚</p>
]]></content>
      <categories>
        <category>Stock</category>
      </categories>
      <tags>
        <tag>Stock</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo Blog</title>
    <url>/posts/bdcf36c8/</url>
    <content><![CDATA[<p>To finish building up this blog<span id="more"></span>, refer to:</p>
<p><a href="https://butterfly.js.org/posts/4aa8abbe/">https://butterfly.js.org/posts/4aa8abbe/</a></p>
<p><a href="https://cmymoon.com/2024/04/08/hexo-zhu-ti-tui-jian/">https://cmymoon.com/2024/04/08/hexo-zhu-ti-tui-jian/</a></p>
]]></content>
      <tags>
        <tag>todo</tag>
      </tags>
  </entry>
  <entry>
    <title>Jul Leetcode</title>
    <url>/posts/940071c4/</url>
    <content><![CDATA[<h1 id="Leetcode-Notes-Jul"><a href="#Leetcode-Notes-Jul" class="headerlink" title="Leetcode Notes Jul."></a>Leetcode Notes Jul.</h1><p>This is to write down my leetcode nodes for Jul. 2024.</p>
<span id="more"></span>

<h2 id="æçº²"><a href="#æçº²" class="headerlink" title="æçº²"></a>æçº²</h2><p><a href="https://leetcode.com/studyplan/top-interview-150/">https://leetcode.com/studyplan/top-interview-150/</a></p>
<p>ç³»ç»Ÿè®¾è®¡æ˜¯alex xuçš„ <a href="https://dokumen.pub/system-design-interview-an-insiders-guide-volume-2-1736049119-9781736049112.html">https://dokumen.pub/system-design-interview-an-insiders-guide-volume-2-1736049119-9781736049112.html</a></p>
]]></content>
      <tags>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>Deepthinking</title>
    <url>/posts/b46d4452/</url>
    <content><![CDATA[<p>è¿™ä¸€ç³»åˆ—ä¸»è¦ç”¨æ¥è®°å½•ä¸€äº›å·¥ä½œä¸­è·å¾—çš„æ„Ÿæƒ³ã€ç»éªŒä»¥åŠæ•™è®­ã€‚</p>
<p><code>2024.07.08</code></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨é¡¹ç›®åˆæœŸï¼Œé¢å¯¹å„ç§ä¸ç¡®å®šæ€§å’Œæ–°æ¦‚å¿µçš„å¼•å…¥æ—¶ï¼Œä¼šæ„Ÿåˆ°å›°æƒ‘å’Œçƒ¦èºã€‚ç„¶è€Œï¼Œé€šè¿‡è°ƒæ•´å¿ƒæ€ã€æ‰©å±•æ€ç»´å’Œæ·±å…¥ç†è§£ï¼Œå¯ä»¥æ›´å¥½åœ°åº”å¯¹è¿™äº›æŒ‘æˆ˜ã€‚ä¿æŒä¹è§‚ç§¯æçš„æ€åº¦ï¼Œä¸ä»…æœ‰åŠ©äºè§£å†³é—®é¢˜ï¼Œè¿˜èƒ½å¢å¼ºè‡ªå·±çš„å½±å“åŠ›ã€‚</p>
<span id="more"></span>

<h2 id="é¡¹ç›®åˆæœŸçš„æŒ‘æˆ˜ä¸å›°æƒ‘"><a href="#é¡¹ç›®åˆæœŸçš„æŒ‘æˆ˜ä¸å›°æƒ‘" class="headerlink" title="é¡¹ç›®åˆæœŸçš„æŒ‘æˆ˜ä¸å›°æƒ‘"></a>é¡¹ç›®åˆæœŸçš„æŒ‘æˆ˜ä¸å›°æƒ‘</h2><p>æœ€è¿‘åœ¨ä¸ºä»Šå¹´æ™šäº›æ—¶å€™å’Œæ˜å¹´çš„ä¸€ä¸ªå¤§å‹åŠŸèƒ½é¡¹ç›®è¿›è¡Œscopeã€‚å°½ç®¡ç›®å‰è¿˜åœ¨è®¨è®ºé˜¶æ®µï¼Œä½†æ•°æ®æ¨¡å‹å·²ç»åœ¨ç»„å†…ç»è¿‡äº†ä¸€äº›è®¨è®ºï¼Œåˆæ­¥å½¢æˆäº†é›å½¢ã€‚ä¸æ­¤åŒæ—¶ï¼Œè€æ¿æåˆ°äº†å¾ˆå¤šæ¬¡ä¸åŒçš„æ¦‚å¿µï¼Œè®¨è®ºå¦‚ä½•ä¸ç³»ç»Ÿçº§åˆ«çš„åŠŸèƒ½è¿›è¡Œæ•´åˆã€‚è™½ç„¶è¿™äº›æƒ³æ³•å¾ˆå¥½ï¼Œä½†ä¹Ÿé¢ä¸´ä¸€äº›æŒ‘æˆ˜ï¼š</p>
<ol>
<li>   å‰ææ¡ä»¶çš„ç¼ºå¤±ï¼šå¾ˆå¤šè€æ¿æåˆ°çš„åŠŸèƒ½å‰æä¸å­˜åœ¨ï¼Œä¾‹å¦‚å¦‚ä½•è§£è€¦ä¸€äº›å·²æœ‰çš„éå¸¸åŸºæœ¬çš„ç»„ä»¶ï¼›</li>
<li>   ç³»ç»ŸåŠŸèƒ½çš„å®ç”¨æ€§ï¼šæˆ‘ä¸ªäººåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°ï¼Œè€æ¿å¸Œæœ›ä»ä¸­å—ç›Šçš„ç³»ç»Ÿçº§åˆ«åŠŸèƒ½å¹¶ä¸æ˜¯å¾ˆå¥½ç”¨ï¼Œè¿˜æœ‰å¾ˆå¤šBUGï¼›</li>
<li>   åŠŸèƒ½çš„å®ç”¨ä»·å€¼ï¼šå³ä½¿å®ç°äº†è¿™äº›åŠŸèƒ½ï¼Œæœ€ç»ˆçœ‹èµ·æ¥å¯èƒ½åªæ˜¯ä¸€ä¸ªå¾ˆåä¸½å´æ— å®é™…ç”¨å¤„çš„åŠŸèƒ½ã€‚</li>
</ol>
<p>æœ€ä»¤æˆ‘å›°æ‰°çš„æ˜¯ä¸æ–­åŠ å…¥æ–°çš„å†…å®¹å’Œæ¦‚å¿µï¼Œå¯¼è‡´æˆ‘å·²æœ‰çš„ä¸€äº›æ¶æ„å’Œæµç¨‹éƒ½è¦éšä¹‹æ”¹å˜ã€‚è€Œä¸”åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ•´ä¸ªé¡¹ç›®çš„èŒƒå›´ã€é¢„æœŸäº¤ä»˜ç‰©å’Œæ—¶é—´çº¿ç­‰è¿˜æ²¡æœ‰ç¡®å®šä¸‹æ¥ï¼Œä»¤äººéå¸¸çƒ¦èºã€‚</p>
<h2 id="å¿ƒæ€è°ƒæ•´ä¸åæ€"><a href="#å¿ƒæ€è°ƒæ•´ä¸åæ€" class="headerlink" title="å¿ƒæ€è°ƒæ•´ä¸åæ€"></a>å¿ƒæ€è°ƒæ•´ä¸åæ€</h2><p>å‡ºå»è·‘äº†æ­¥ï¼Œæµæ±—ä¹‹ååè€Œæƒ³å¼€äº†å¾ˆå¤šï¼š</p>
<ol>
<li>   å¹¿é˜”æ€ç»´ï¼šåœ¨æ€è€ƒé—®é¢˜æ—¶ï¼Œå¯èƒ½æœ‰äº›å¤ªè¿‡ç‹­éš˜ã€‚è¿™ä¸ªé¡¹ç›®ç°åœ¨è¿˜å¤„äºæ—©æœŸè®¨è®ºé˜¶æ®µï¼Œæ‰€ä»¥æœ‰å„ç§ä¸åŒçš„å˜é‡å’Œå£°éŸ³æ˜¯å†æ­£å¸¸ä¸è¿‡çš„ã€‚è€æ¿è¯´å¾—æŒºå¥½ï¼šâ€œI know itâ€™s an overwhelming amount of stuff, but thatâ€™s the nature of this phase of these projects ğŸ™‚â€ã€‚è¿™æé†’æˆ‘è¦æ¥å—é¡¹ç›®åˆæœŸçš„æ··ä¹±å’Œå¤šæ ·æ€§ã€‚</li>
<li>   æ·±å…¥ç†è§£ï¼šæœ‰äº›æ—¶å€™è‡ªå·±è§‰å¾—å¾ˆæ‰¯æ·¡çš„ä¸œè¥¿ï¼Œå¯èƒ½æ˜¯å› ä¸ºå¯¹æŸäº›äº‹ç‰©çš„ç†è§£è¿˜ä¸å¤Ÿæ·±å…¥ã€‚å½“è´¨ç–‘ä¸€ä¸ªä¸œè¥¿æ—¶ï¼Œå°¤å…¶æ˜¯åœ¨å·¥ä½œä¸­ï¼Œä¸€å®šè¦æ·±å…¥äº†è§£ã€‚æƒ³åˆ°äº†é«˜ä¸­è¯­æ–‡è€å¸ˆæ›¾ç»è¯´çš„ï¼ŒåšXXXæ˜¯ä¸ºäº†æ›´å¥½çš„æ‰¹åˆ¤ã€‚è™½ç„¶ä¸ä¸€å®šæ˜¯ä¸ºäº†æ‰¹åˆ¤ï¼Œä½†æ·±å…¥äº†è§£èƒ½å¤Ÿé¿å…ç‹­éš˜åœ°ã€é”™è¯¯åœ°æŒ‡å‡ºåˆ«äººæœ¬æ¥æ­£ç¡®çš„ä¸œè¥¿ã€‚</li>
<li>   ç§¯ææ€åº¦ï¼šæˆ‘åœ¨åŠªåŠ›åšåˆ°ä½†è¿˜éœ€æ›´åŠªåŠ›çš„ä¸€ç‚¹æ˜¯ï¼šä¹è§‚åœ°é¢å¯¹å·¥ä½œçš„æŒ‘æˆ˜å’Œä¸åŒçš„æ„è§ã€‚ç§¯æå‹å–„çš„æ€åº¦ï¼Œæœ‰ç†æœ‰æ®çš„äº‰è¾©ï¼Œå¾€å¾€æ¯”æ¶ˆæçš„åæ§½æˆ–è€…éƒéƒå¯¡æ¬¢æ›´åŠ æœ‰ç”¨ï¼Œä¸ä»…èƒ½è®©åˆ«äººå¯¹ä½ æœ‰æ›´å¥½çš„å°è±¡ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åŠ å¼ºä½ è‡ªå·±çš„å½±å“åŠ›ã€‚</li>
</ol>
<p>é€šè¿‡è¿™äº›åæ€ï¼Œæˆ‘æ„è¯†åˆ°åœ¨é¡¹ç›®åˆæœŸé˜¶æ®µï¼Œä¿æŒå¼€æ”¾çš„å¿ƒæ€å’Œç§¯æçš„æ€åº¦æ˜¯è‡³å…³é‡è¦çš„ã€‚å¸Œæœ›æœªæ¥çš„å·¥ä½œä¸­èƒ½å¤Ÿæ›´åŠ ä»å®¹åœ°é¢å¯¹å„ç§æŒ‘æˆ˜ï¼Œç»§ç»­ç§¯ç´¯ç»éªŒå’Œæ•™è®­ã€‚</p>
]]></content>
      <tags>
        <tag>work, philosophy, reflection, project-management</tag>
      </tags>
  </entry>
  <entry>
    <title>åå¹´</title>
    <url>/posts/bdfafec0/</url>
    <content><![CDATA[<h1 id="åå¹´"><a href="#åå¹´" class="headerlink" title="åå¹´"></a>åå¹´</h1><p>ä»Šå¤©æ˜¯2024å¹´7æœˆ7æ—¥<span id="more"></span>ï¼Œä¸çŸ¥ä¸è§‰é—´ï¼Œæˆ‘ä»¬å·²ç»ä¸€èµ·èµ°è¿‡äº†åä¸ªå¹´å¤´ã€‚ä¸çŸ¥é“æ˜¯å¹´å²æ¸é•¿ï¼Œè¿˜æ˜¯å¿ƒå¢ƒä¸åŒï¼Œæœ€è¿‘å¯¹ä½ çš„æ€å¿µæ„ˆå‘æ·±åˆ‡ï¼Œå›å¿†èµ·æˆ‘ä»¬å…±åŒç»å†çš„ç‚¹ç‚¹æ»´æ»´ï¼Œæ›´æ˜¯å€æ„Ÿçæƒœã€‚æœ‰è®¸å¤šè¯æƒ³å¯¹ä½ è¯´ï¼Œå´åˆä¸çŸ¥ä»ä½•è¯´èµ·ã€‚äºæ˜¯ï¼Œæˆ‘å†³å®šé‡æ–°å¼€å§‹å†™åšå®¢ï¼ŒæŠŠæ¯ä¸€ä¸ªæƒ³å¯¹ä½ è¯´çš„å¿ƒé‡Œè¯è®°å½•ä¸‹æ¥ã€‚å¸Œæœ›åœ¨æˆ‘ä»¬ä¸€èµ·èµ°è¿‡äºŒåå¹´ã€ä¸‰åå¹´ã€äº”åå¹´ä¹‹åï¼Œèƒ½å¤Ÿå†ä¸€èµ·ç¿»é˜…è¿™äº›çè´µçš„å›å¿†ï¼Œå…±åŒç»†ç»†å“å‘³æˆ‘ä»¬çš„æ•…äº‹ï¼Œæ…¢æ…¢å˜è€ã€‚</p>
<p>çˆ±ä½ ã€‚</p>
]]></content>
      <tags>
        <tag>æˆ‘ä»¬</tag>
      </tags>
  </entry>
  <entry>
    <title>KMP</title>
    <url>/posts/ad32db8f/</url>
    <content><![CDATA[<h1 id="KMP-Algorithm"><a href="#KMP-Algorithm" class="headerlink" title="KMP Algorithm"></a>KMP Algorithm</h1><h2 id="What-is-KMP"><a href="#What-is-KMP" class="headerlink" title="What is KMP?"></a>What is KMP?</h2><p>KMP is a string matching algorithm that is used to find a substring in a string. It is an efficient algorithm that has a time complexity of O(n+m) where n is the length of the string and m is the length of the substring.</p>
<p>KMP æ˜¯ä¸€ä¸ªè§£å†³ æ¨¡å¼ä¸²åœ¨æ–‡æœ¬ä¸²ä¸­æ˜¯å¦å‡ºç°è¿‡ï¼Œå¦‚æœå‡ºç°è¿‡ï¼Œåˆ™æœ€æ—©å‡ºç°çš„ä½ç½®çš„ç»å…¸ç®—æ³•ã€‚KMP ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n+m)ã€‚</p>
<span id="more"></span>

<h2 id="Leetcode-Links"><a href="#Leetcode-Links" class="headerlink" title="Leetcode Links"></a>Leetcode Links</h2><p><a href="https://leetcode.com/problems/find-the-index-of-the-first-occurrence-in-a-string/?envType=study-plan-v2&envId=top-interview-150">28. Find the index of the first ocurence in a string</a></p>
<h3 id="Problem-description"><a href="#Problem-description" class="headerlink" title="Problem description"></a>Problem description</h3><p>Given two strings needle and haystack, return the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack.</p>
<p><code>Example 1</code>:</p>
<blockquote>
<p>Input: haystack &#x3D; â€œsadbutsadâ€, needle &#x3D; â€œsadâ€<br>Output: 0<br>Explanation: â€œsadâ€ occurs at index 0 and 6.<br>The first occurrence is at index 0, so we return 0.</p>
</blockquote>
<p><code>Example 2</code>:</p>
<blockquote>
<p>Input: haystack &#x3D; â€œleetcodeâ€, needle &#x3D; â€œleetoâ€<br>Output: -1<br>Explanation: â€œleetoâ€ did not occur in â€œleetcodeâ€, so we return -1.</p>
</blockquote>
<p><code>Constraints</code>:<br>1 &lt;&#x3D; haystack.length, needle.length &lt;&#x3D; 104<br>haystack and needle consist of only lowercase English characters.</p>
<h2 id="KMP-Algorithm-1"><a href="#KMP-Algorithm-1" class="headerlink" title="KMP Algorithm"></a>KMP Algorithm</h2><h3 id="KMP-working-analysis"><a href="#KMP-working-analysis" class="headerlink" title="KMP working analysis"></a>KMP working analysis</h3><p>Take this as an example:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 <span class="operator">=</span> <span class="string">&quot;ABCDAB ABCDABCDABDE&quot;</span></span><br><span class="line"><span class="keyword">let</span> s2 <span class="operator">=</span> <span class="string">&quot;ABCDABD&quot;</span></span><br></pre></td></tr></table></figure>
<p>A brute force solution would be to compare each character of <code>s1</code> with <code>s2</code> and if a mismatch is found, we start comparing from the next character of <code>s1</code> with the start of <code>s2</code>. This will be inefficient as we are not utilizing the information that we already know in previous loops. i.e. from the example above, we have walked through the first 6 characters of <code>s1</code> before we reach the last <code>D</code> in <code>s2</code>, which is the mismatch, 7th character of both, so the next position we should comare with <code>s2</code>â€˜s first character is not the 2nd character of <code>s1</code> because we know the 2nd character of <code>s1</code> is <code>B</code> and <code>B</code> is not equal to <code>A</code>. </p>
<p>We should instead skip as many characters as possible to avoid unnecessary comparisons. How do we do that? We need to build a table that tells us how many characters we can skip when a mismatch is found. That table will tell us that we should jump to the 5th character of <code>s1</code> to continue the compare because we know the last two characters of <code>s1</code> are <code>AB</code> and <code>AB</code> is equal to <code>AB</code> in <code>s2</code>, which is the first two characters of <code>s2</code>, which means we can possibly find a match from the 5th character of <code>s1</code> (but not guaranteed, still need to compare all the rest characters of <code>s2</code> with <code>s1</code>).</p>
<blockquote>
<p>æ­¤æ—¶å›æº¯æ—¶ï¼ŒA è¿˜ä¼šå»å’Œ BCD è¿›è¡Œæ¯”è¾ƒï¼Œè€Œåœ¨ä¸Šä¸€æ­¥ ABCDAB ä¸ ABCDABDï¼Œå‰ 6 ä¸ªéƒ½ç›¸ç­‰ï¼Œå…¶ä¸­ BCD æœç´¢è¯çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ A ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™è¿˜è¦ç”¨ A å»åŒ¹é… BCDï¼Œè¿™è‚¯å®šä¼šåŒ¹é…å¤±è´¥ã€‚<br>KMP ç®—æ³•çš„æƒ³æ³•æ˜¯ï¼šè®¾æ³•åˆ©ç”¨è¿™ä¸ªå·²çŸ¥ä¿¡æ¯ï¼Œä¸è¦æŠŠã€Œæœç´¢ä½ç½®ã€ç§»å›å·²ç»æ¯”è¾ƒè¿‡çš„ä½ç½®ï¼Œç»§ç»­æŠŠå®ƒå‘åç§»ï¼Œè¿™æ ·å°±æé«˜äº†æ•ˆç‡ã€‚<br>é‚£ä¹ˆæ–°çš„é—®é¢˜å°±æ¥äº†ï¼šä½ å¦‚ä½•çŸ¥é“ A ä¸ BCD ä¸ç›¸åŒï¼Œå¹¶ä¸”åªæœ‰ BCD ä¸ç”¨æ¯”è¾ƒå‘¢ï¼Ÿè¿™ä¸ªå°±æ˜¯ KMP çš„æ ¸å¿ƒåŸç†äº†ã€‚<br>KMP åˆ©ç”¨ éƒ¨åˆ†åŒ¹é…è¡¨ï¼Œæ¥çœç•¥æ‰åˆšåˆšé‡å¤çš„æ­¥éª¤ã€‚<br>åŒ¹é…è¡¨åº”è¯¥å‘Šè¯‰æˆ‘ä»¬ï¼š<br>ABCD åŒ¹é…å€¼ 0<br>ABCDA åŒ¹é…å€¼ 1<br>ABCDAB åŒ¹é…å€¼ 2<br>å·²çŸ¥ç©ºæ ¼ä¸ D ä¸åŒ¹é…æ—¶ï¼Œå‰é¢ 6 ä¸ªå­—ç¬¦ ABCDAB æ˜¯åŒ¹é…çš„ã€‚<br>æŸ¥è¡¨å¯çŸ¥ï¼šéƒ¨åˆ†åŒ¹é…å€¼æ˜¯ 2ï¼Œå› æ­¤æŒ‰ç…§ä¸‹é¢çš„å…¬å¸è®¡ç®—å‡ºåç§»çš„ä½æ•°ï¼š<br>ç§»åŠ¨ä½æ•° &#x3D; å·²åŒ¹é…çš„å­—ç¬¦æ•° - å¯¹åº”çš„éƒ¨åˆ†åŒ¹é…å€¼<br>4      &#x3D;    6		  -   2<br>å› æ­¤å›æº¯çš„æ—¶å€™å¾€åç§»åŠ¨ 4 ä½ï¼Œè€Œä¸æ˜¯æš´åŠ›åŒ¹é…ç§»åŠ¨çš„ 1 ä½ã€‚</p>
</blockquote>
<h3 id="How-to-build-the-table"><a href="#How-to-build-the-table" class="headerlink" title="How to build the table"></a>How to build the table</h3><p>The table is expected to tell us the partial match value of the substring. The partial match value is the length of the longest proper prefix of the substring that is also a proper suffix of the substring.<br>The following table shows the partial match value of the substring <code>ABCDABD</code>:</p>
<blockquote>
<p>Note the prefix should exclude the last character of the substring and the suffix should exclude the first character of the substring.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Substring</th>
<th>Prefix</th>
<th>Suffix</th>
<th>Common Prefix and Suffix</th>
<th>Partial Match Value</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>0</td>
</tr>
<tr>
<td>AB</td>
<td>A</td>
<td>B</td>
<td>-</td>
<td>0</td>
</tr>
<tr>
<td>ABC</td>
<td>A, AB</td>
<td>BC, C</td>
<td>-</td>
<td>0</td>
</tr>
<tr>
<td>ABCD</td>
<td>A, AB, ABC</td>
<td>BCD, CD, D</td>
<td>-</td>
<td>0</td>
</tr>
<tr>
<td>ABCDA</td>
<td>A, AB, ABC, ABCD</td>
<td>BCDA, CDA, DA, A</td>
<td>A</td>
<td>1</td>
</tr>
<tr>
<td>ABCDAB</td>
<td>A, AB, ABC, ABCD, ABCDA</td>
<td>BCDAB, CDAB, DAB, AB, B</td>
<td>AB</td>
<td>2</td>
</tr>
</tbody></table>
<h3 id="Implementation-steps"><a href="#Implementation-steps" class="headerlink" title="Implementation steps"></a>Implementation steps</h3><ol>
<li>Build the table</li>
<li>Use the table to complete the KMP matching algorithm</li>
</ol>
<h4 id="Build-the-table"><a href="#Build-the-table" class="headerlink" title="Build the table"></a>Build the table</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">String</span> &#123;</span><br><span class="line">    <span class="comment">/// Altorighm: KMP</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// Building the dictionary lps:</span></span><br><span class="line">    <span class="comment">/// Name lps indicates the longest proper prefix which is also a suffix.</span></span><br><span class="line">    <span class="comment">/// ABCDAB -&gt; [0, 0, 0, 0, 1, 2]</span></span><br><span class="line">    <span class="keyword">var</span> lps: [<span class="type">Int</span>] &#123;</span><br><span class="line">        <span class="keyword">var</span> result <span class="operator">=</span> [<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">var</span> s <span class="operator">=</span> <span class="type">Array</span>(<span class="keyword">self</span>)</span><br><span class="line">        <span class="keyword">var</span> commonFromStart <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span><span class="operator">..&lt;</span>s.count &#123;</span><br><span class="line">            <span class="keyword">if</span> s[i] <span class="operator">==</span> s[commonFromStart] &#123;</span><br><span class="line">                commonFromStart <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">            result.append(commonFromStart)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// print(&quot;lps: \(self) -&gt; \(result)&quot;)</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Use-the-table"><a href="#Use-the-table" class="headerlink" title="Use the table"></a>Use the table</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">strStr</span>(<span class="keyword">_</span> <span class="params">haystack</span>: <span class="type">String</span>, <span class="keyword">_</span> <span class="params">needle</span>: <span class="type">String</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="comment">// check if the haystack is long enough to contain the needle</span></span><br><span class="line">        <span class="keyword">guard</span> haystack.count <span class="operator">&gt;=</span> needle.count <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="operator">-</span><span class="number">1</span> &#125;</span><br><span class="line">        <span class="comment">// convert the strings to arrays for easy manipulation</span></span><br><span class="line">        <span class="keyword">var</span> haystack <span class="operator">=</span> <span class="type">Array</span>(haystack), needle <span class="operator">=</span> <span class="type">Array</span>(needle)</span><br><span class="line">        <span class="comment">// hi: haystack index, ni: needle index</span></span><br><span class="line">        <span class="keyword">var</span> hi <span class="operator">=</span> <span class="number">0</span>, ni <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">        <span class="comment">// loop through the haystack until index of the last possible match</span></span><br><span class="line">        <span class="keyword">while</span> hi <span class="operator">+</span> needle.count <span class="operator">&lt;=</span> haystack.count &#123;</span><br><span class="line">            <span class="comment">// print(&quot;hi: \(hi), ni: \(ni)&quot;)</span></span><br><span class="line">            <span class="comment">// if ni is 0 and the characters are not equal, jump hi by 1 because there has been no match yet (ni == 0)</span></span><br><span class="line">            <span class="keyword">if</span> ni <span class="operator">==</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> needle[ni] <span class="operator">!=</span> haystack[hi] &#123;</span><br><span class="line">                hi <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> needle[ni] <span class="operator">==</span> haystack[hi <span class="operator">+</span> ni] &#123;</span><br><span class="line">                <span class="comment">// if the current character in needle matches the character in haystack, and ni is the last index of needle, return hi because we have found the first occurrence of needle in haystack</span></span><br><span class="line">                <span class="keyword">if</span> ni <span class="operator">==</span> needle.count <span class="operator">-</span> <span class="number">1</span> &#123; <span class="keyword">return</span> hi &#125;</span><br><span class="line">                <span class="comment">// otherwise, increment ni to continue the comparison for the next character in both strings</span></span><br><span class="line">                ni <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// mismatch happens, jump hi and reset ni</span></span><br><span class="line">            <span class="keyword">let</span> lps <span class="operator">=</span> <span class="type">String</span>(haystack[hi<span class="operator">...</span>hi <span class="operator">+</span> ni]).lps</span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> match <span class="operator">=</span> lps.last <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="operator">-</span><span class="number">1</span> &#125;</span><br><span class="line">            <span class="comment">// this is calculated based on the lps table mentioned above: ç§»åŠ¨ä½æ•° = å·²åŒ¹é…çš„å­—ç¬¦æ•° - å¯¹åº”çš„éƒ¨åˆ†åŒ¹é…å€¼</span></span><br><span class="line">            <span class="keyword">let</span> jump <span class="operator">=</span> lps.count <span class="operator">-</span> match</span><br><span class="line">            hi <span class="operator">+=</span> jump</span><br><span class="line">            ni <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">            <span class="comment">// print(&quot;hi jump: \(jump) -&gt; hi: \(hi), ni: \(ni)&quot;)</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="operator">-</span><span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Leetcode-submission-result"><a href="#Leetcode-submission-result" class="headerlink" title="Leetcode submission result"></a>Leetcode submission result</h2><p><img src="/posts/ad32db8f/p28.png"></p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="https://zq99299.github.io/dsalg-tutorial/dsalg-java-hsp/14/04.html#kmp-%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90">KMP ç®—æ³•</a></p>
]]></content>
      <tags>
        <tag>leetcode</tag>
        <tag>algorithm</tag>
      </tags>
  </entry>
</search>
